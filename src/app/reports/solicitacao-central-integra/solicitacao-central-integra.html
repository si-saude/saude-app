<head>
<meta charset="utf-8">
</head>

<!-- Preload  -->
<app-preload [msg]="msgPreload" [show]="showPreload"></app-preload>

<div class="list-container">
	<table class="table table-striped" [mfData]="solicitacaoCentralIntegras | filterData : filter : typeFilter : value" #mf="mfDataTable">
		<thead>
			<tr>
				<th style="width: 3%">
					<mfDefaultSorter by="tipoSolicitacao">Tipo de Solicitação</mfDefaultSorter>
						<div class="div-icon" id="tipoSolicitacao-nome">
							<i class="small material-icons icon" 
								(click)="dropdown($event, 'tipoSolicitacao-nome')">arrow_drop_down</i>
						</div>
				</th>
				<th style="width: 2%">
					<mfDefaultSorter by="descricao">Descrição</mfDefaultSorter>
				</th>
				<th style="width: 1%">
					<mfDefaultSorter by="prazo">Prazo</mfDefaultSorter>
					<input type="text" name="prazo" style="width: 90%" 
							placeholder="filtrar prazo" 
							(input)="selectFilter($event, 'prazoString')">
				</th>
				<th style="width: 2%">
					<div class="row">
						<mfDefaultSorter by="status">Status</mfDefaultSorter>
						<div class="div-icon" id="status">
							<i class="small material-icons icon" 
								(click)="dropdown($event, 'status')">arrow_drop_down</i>
						</div>
					</div>
				</th>
				<th style="width: 1%">
					<mfDefaultSorter by="abertura">Abertura</mfDefaultSorter>
					<input type="text" name="abertura" style="width: 90%" 
						placeholder="filtrar abertura" 
						(input)="selectFilter($event, 'aberturaString')">
				</th>
				<th style="width: 2%">
					<mfDefaultSorter by="observacao">Observacao</mfDefaultSorter>
				</th>
				<th style="width: 1%">
					<div class="row">
						<mfDefaultSorter class="mleft" by="concluido">Concluido</mfDefaultSorter>
						<div class="div-icon" id="concluidoString">
							<i class="small material-icons icon" 
								(click)="dropdown($event, 'concluidoString')">arrow_drop_down</i>
						</div>
					</div>
				</th>
				<th style="width: 1%">
					<div class="row">
						<mfDefaultSorter class="mleft" by="anexo">Anexo</mfDefaultSorter>
					</div>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr class="tr-filter" *ngFor="let item of mf.data" 
				id="item-{{item.id}}" [ngStyle]="solicitacaoCentralIntegraUtil.setColor(item.status)">
				<td>{{item.tipoSolicitacao.nome}}</td>
				<td (mouseover)="showTextToast(item.descricao)" (mouseleave)="closeTooltip()">
					{{splitText(item.descricao)}}
				</td>
				<td>{{item.prazoString}}</td>
				<td>{{item.status}}</td>
				<td>{{item.aberturaString}}</td>
				<td (mouseover)="showTextToast(item.observacao)" (mouseleave)="closeTooltip()">
					{{splitText(item.observacao)}}
				</td>
				<td>{{item.concluidoString}}</td>
				<td>
					<i class="small material-icons icon" (click)="getAnexo(item)">file_download</i>
				</td>
			</tr>
		</tbody>
	</table>

	<ul id='dropdown' class='dropdown-conteudo'></ul>
</div>

<div materialize [materializeParams]="toastParams"
	[materializeActions]="globalActions"></div>