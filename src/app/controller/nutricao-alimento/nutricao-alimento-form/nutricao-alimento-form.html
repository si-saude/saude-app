<head>
<meta charset="utf-8">
</head>

<!-- Preload -->
<app-preload [msg]="msgPreload" [show]="showPreload"></app-preload>

<!-- Confirm Save -->
<app-confirm-save [show]="showConfirmSave" [msg]="msgConfirmSave" [goTo]="goTo"></app-confirm-save>  

<div class="row form-container">
	<form #form="ngForm" class="col s12" (ngSubmit)="save()">
	
		<ul class="tabs" materialize="tabs">
			<li class="tab col s6"><a RouterLinkActive="active"
				href="#dadosGerais">Dados Gerais</a></li>
			<li class="tab col s6"><a RouterLinkActive="active"
				href="#outrasInformacoes">Outras Informações</a></li>
		</ul>

		<div id="dadosGerais">
			<div class="row">
				<div class="input-field col s12">
					<label for="alimento">Nome</label>
					<input id="alimento" type="text" maxlength="256" required
					name="alimento" [(ngModel)]="nutricaoAlimento.alimento">
				</div>
			</div>
			
			<div class="row">
				<div class="input-field col s4">
					<fieldset>
						<legend> Tipo </legend>
						<select name="nutricaoAlimento.tipo" required 
							class="browser-default" [(ngModel)]="nutricaoAlimento.tipo">
							<option disabled selected value=undefined>Selecione um tipo</option>
							<option *ngFor="let tipo of tipos" value="{{tipo}}">{{tipo}}</option>
						</select>
					</fieldset>
				</div>
				<div class="input-field col s4">
					<label for="padrao">Padrão (g)</label>
					<input id="padrao" type="text" style="width: 100%;" required
						(ngModelChange)="nutricaoAlimento.padrao=$event"  maxlength="16"
						[ngModel]="nutricaoAlimento.padrao | money : 'padrao'"
						name="padrao">
				</div>
				<div class="input-field col s4">
					<label for="energia">Energia (kcal)</label>
					<input id="energia" type="text" style="width: 100%;"
						name="energia" required
						(ngModelChange)="nutricaoAlimento.energia=$event" maxlength="16" 
						[ngModel]="nutricaoAlimento.energia | money : 'energia'">
				</div>
			</div>
			
			<div class="row">
				<div class="input-field col s5">
					<label for="medidaAlimentar">Medida Caseira</label> 
					<input type="text" materialize="autocomplete" autocomplete="off" name="nutrucaoAlimento.medidaAlimentar"
						[(ngModel)]="nutricaoAlimentoMedidaAlimentar.medidaAlimentar.descricao"
						(blur)="medidaAlimentarAutocomplete.getAutocomplete().getObj($event,nutricaoAlimentoMedidaAlimentar,'setMedidaAlimentar','getDescricao')"
						(ngModelChange)="medidaAlimentarAutocomplete.getAutocomplete().getList(nutricaoAlimentoMedidaAlimentar.medidaAlimentar, 'getDescricao');"
						(keydown.enter)="medidaAlimentarAutocomplete.getAutocomplete().pressEnter($event,nutricaoAlimentoMedidaAlimentar,'setMedidaAlimentar','getDescricao');"
						[materializeParams]="medidaAlimentarAutocomplete.getAutocomplete().getObjAutoComplete()">
				</div>
				<div class="input-field col s2">
					<label for="quantidade">Quantidade</label>
					<input id="quantidade" type="text"
						name="quantidade" 
						(ngModelChange)="nutricaoAlimentoMedidaAlimentar.quantidade=$event"  maxlength="16"
						[ngModel]="nutricaoAlimentoMedidaAlimentar.quantidade | money : 'quantidade'">
				</div>
				<div class="input-field col s3">
					<label for="referencia">Referência</label>
					<input id="referencia" type="text" maxlength="64"
					name="referencia" [(ngModel)]="nutricaoAlimentoMedidaAlimentar.referencia">
				</div>
				<div class="col s2">
					<a style='margin-top: 25%;'
						class="btn-floating waves-effect waves-light green btn-add"
						(click)="addNutricaoAlimentoMedidaAlimentar()"> <i
						class="material-icons center-icon">add</i>
					</a>
				</div>
			</div>
			
			<div class="row">

				<table class="striped">
					<thead>
						<tr class="row col s12">
							<th class="col s3">Medida Alimentar</th>
							<th class="col s3">Quantidade</th>
							<th class="col s3">Referência</th>
							<th class="col s3">Remover</th>
						</tr>
					</thead>
					<div *ngFor="let nama of nutricaoAlimento.nutricaoAlimentoMedidaAlimentares;let i = index">
						<tbody class="col s12">
							<tr class="col s12">
								<td class="col s3 nama-descricao">{{nama.medidaAlimentar.descricao}}</td>
								<td class="col s3 nama-quantidade">{{nama.quantidade | money : 'nama-quantidade'}}</td>
								<td class="col s3 nama-referencia">{{nama.referencia}}</td>
								<td class="col s3 botao-remover"><a
									class="btn-floating waves-effect waves-light red btn-remove"
									(click)="removeNutricaoAlimentoMedidaAlimentares(i)"> <i
										class="material-icons center-icon">delete</i>
								</a></td>
							</tr>
						</tbody>
					</div>

				</table>

			</div>
			
		</div>
		<div id="outrasInformacoes">	
			
			<div class="row">
				<div class="input-field col s3">
					<label for="proteina">Proteina (g)</label>
					<input id="proteina" type="text" style="width: 100%;"
						name="proteina" 
						(ngModelChange)="nutricaoAlimento.proteina=$event" maxlength="16"
						[ngModel]="nutricaoAlimento.proteina | money : 'proteina'">
				</div>
				<div class="input-field col s3">
					<label for="saturada">Gordura Saturada (g)</label>
					<input id="saturada" type="text" style="width: 100%;" maxlength="16"
						name="saturada" 
						(ngModelChange)="nutricaoAlimento.saturada=$event" 
						[ngModel]="nutricaoAlimento.saturada | money : 'saturada'">
				</div>
				<div class="input-field col s3">
					<label for="monoinsaturada">Gordura Monoinsaturada (g)</label>
					<input id="monoinsaturada" type="text" style="width: 100%;"
						name="monoinsaturada" maxlength="16"
						(ngModelChange)="nutricaoAlimento.monoinsaturada=$event" 
						[ngModel]="nutricaoAlimento.monoinsaturada | money : 'monoinsaturada'">
				</div>
    			<div class="input-field col s3">
					<label for="poliinsaturada">Gordura Poliinsaturada (g)</label>
					<input id="poliinsaturada" type="text" style="width: 100%;"
						name="poliinsaturada" maxlength="16"
						(ngModelChange)="nutricaoAlimento.poliinsaturada=$event" 
						[ngModel]="nutricaoAlimento.poliinsaturada | money : 'poliinsaturada'">
				</div>
			</div>
			<div class="row">
				<div class="input-field col s2">
					<label for="lipideos">Lipídeos (g)</label>
					<input id="lipideos" type="text"
						name="lipideos" maxlength="16"
						(ngModelChange)="nutricaoAlimento.lipideos=$event" 
						[ngModel]="nutricaoAlimento.lipideos | money : 'lipideos'">
				</div>
				<div class="input-field col s2">
					<label for="omega3">Ômega 3</label>
					<input id="omega3" type="text"
						name="omega3" maxlength="16"
						(ngModelChange)="nutricaoAlimento.omega3=$event" 
						[ngModel]="nutricaoAlimento.omega3 | money : 'omega3'">
				</div>
    			<div class="input-field col s2">
					<label for="colesterol">Colesterol (mg)</label>
					<input id="colesterol" type="text"
						name="colesterol" maxlength="16"
						(ngModelChange)="nutricaoAlimento.colesterol=$event" 
						[ngModel]="nutricaoAlimento.colesterol | money : 'colesterol'">
				</div>
				<div class="input-field col s3">
					<label for="cho">Carboidratos (g)</label>
					<input id="cho" type="text" style="width: 100%;"
						name="cho" maxlength="16"
						(ngModelChange)="nutricaoAlimento.cho=$event" 
						[ngModel]="nutricaoAlimento.cho | money : 'cho'">
				</div>
    			<div class="input-field col s3">
					<label for="fibra">Fibra (g)</label>
					<input id="fibra" type="text"
						name="fibra" maxlength="16"
						(ngModelChange)="nutricaoAlimento.fibra=$event" 
						[ngModel]="nutricaoAlimento.fibra | money : 'fibra'">
				</div>
			</div>
			
			<div class="row">
				<div class="input-field col s3">
					<label for="calcio">Cálcio (mg)</label>
					<input id="calcio" type="text"
						name="calcio" maxlength="16"
						(ngModelChange)="nutricaoAlimento.calcio=$event" 
						[ngModel]="nutricaoAlimento.calcio | money : 'calcio'">
				</div>
    			<div class="input-field col s3">
					<label for="mg">Magnésio (mg)</label>
					<input id="mg" type="text" style="width: 100%;"
						name="mg" maxlength="16"
						(ngModelChange)="nutricaoAlimento.mg=$event" 
						[ngModel]="nutricaoAlimento.mg | money : 'mg'">
				</div>
    			<div class="input-field col s3">
					<label for="mn">Manganês (mg)</label>
					<input id="mn" type="text" style="width: 100%;"
						name="mn" maxlength="16"
						(ngModelChange)="nutricaoAlimento.mn=$event" 
						[ngModel]="nutricaoAlimento.mn | money : 'mn'">
				</div>
    			<div class="input-field col s3">
					<label for="p">Fósforo (mg)</label>
					<input id="p" type="text" style="width: 100%;"
						name="p" maxlength="16"
						(ngModelChange)="nutricaoAlimento.p=$event" 
						[ngModel]="nutricaoAlimento.p | money : 'p'">
				</div>
			</div>
			
			<div class="row">
				<div class="input-field col s3">
					<label for="ferro">Ferro (mg)</label>
					<input id="ferro" type="text" maxlength="16"
						(ngModelChange)="nutricaoAlimento.ferro=$event" 
						[ngModel]="nutricaoAlimento.ferro | money : 'ferro'"
						name="ferro">
				</div>
    			<div class="input-field col s3">
					<label for="sodio">Sódio (mg)</label>
					<input id="sodio" type="text"
						name="sodio" maxlength="16"
						(ngModelChange)="nutricaoAlimento.sodio=$event" 
						[ngModel]="nutricaoAlimento.sodio | money : 'sodio'">
				</div>
    			<div class="input-field col s3">
					<label for="potassio">Potássio (mg)</label>
					<input id="potassio" type="text"
						name="potassio" maxlength="16"
						(ngModelChange)="nutricaoAlimento.potassio=$event" 
						[ngModel]="nutricaoAlimento.potassio | money : 'potassio'">
				</div>
    			<div class="input-field col s3">
					<label for="cobre">Cobre (mg)</label>
					<input id="cobre" type="text"
						name="cobre" maxlength="16"
						(ngModelChange)="nutricaoAlimento.cobre=$event" 
						[ngModel]="nutricaoAlimento.cobre | money : 'cobre'">
				</div>
			</div>
			
			<div class="row">
				<div class="input-field col s3">
					<label for="zinco">Zinco (mg)</label>
					<input id="zinco" type="text"
						name="zinco" maxlength="16"
						(ngModelChange)="nutricaoAlimento.zinco=$event" 
						[ngModel]="nutricaoAlimento.zinco | money : 'zinco'">
				</div>
    			<div class="input-field col s3">
					<label for="retinol">Retinol (mg)</label>
					<input id="retinol" type="text"
						name="retinol" maxlength="16"
						(ngModelChange)="nutricaoAlimento.retinol=$event" 
						[ngModel]="nutricaoAlimento.retinol | money : 'retinol'">
				</div>
    			<div class="input-field col s3">
					<label for="tiamina">Tiamina (mg)</label>
					<input id="tiamina" type="text"
						name="tiamina"  maxlength="16"
						(ngModelChange)="nutricaoAlimento.tiamina=$event" 
						[ngModel]="nutricaoAlimento.tiamina | money : 'tiamina'">
				</div>
    			<div class="input-field col s3">
					<label for="riboflavina">Riboflavina (mg)</label>
					<input id="riboflavina" type="text" maxlength="16"
						(ngModelChange)="nutricaoAlimento.riboflavina=$event" 
						[ngModel]="nutricaoAlimento.riboflavina | money : 'riboflavina'"
						name="riboflavina">
				</div>
			</div>
			
			<div class="row">
				<div class="input-field col s3">
					<label for="piridoxina">Piridoxina (mg)</label>
					<input id="piridoxina" type="text"
						name="piridoxina" maxlength="16"
						(ngModelChange)="nutricaoAlimento.piridoxina=$event" 
						[ngModel]="nutricaoAlimento.piridoxina | money : 'piridoxina'">
				</div>
				<div class="input-field col s3">
					<label for="niacina">Niacina (mg)</label>
					<input id="niacina" type="text"
						name="niacina" maxlength="16"
						(ngModelChange)="nutricaoAlimento.niacina=$event" 
						[ngModel]="nutricaoAlimento.niacina | money : 'niacina'">
				</div>
    			<div class="input-field col s3">
					<label for="vitc">Vitamica C (mg)</label>
					<input id="vitc" type="text" style="width: 100%;"
						name="vitc" maxlength="16"
						(ngModelChange)="nutricaoAlimento.vitc=$event" 
						[ngModel]="nutricaoAlimento.vitc | money : 'vitc'">
				</div>
				<div class="input-field col s3">
					<label for="vitd">Vitamina D (mg)</label>
					<input id="vitd" type="text"
						name="vitd" maxlength="16"
						(ngModelChange)="nutricaoAlimento.vitd=$event" 
						[ngModel]="nutricaoAlimento.vitd | money : 'vitd'">
				</div>
			</div>
			
			<div class="row">
				<div class="input-field col s3">
					<label for="omega6">Ômega 6</label>
					<input id="omega6" type="text"
						name="omega6" maxlength="16"
						(ngModelChange)="nutricaoAlimento.omega6=$event" 
						[ngModel]="nutricaoAlimento.omega6 | money : 'omega6'">
				</div>
				<div class="input-field col s3">
					<label for="vite">Vitamina E (mg)</label>
					<input id="vite" type="text" 
						name="vite" maxlength="16"
						(ngModelChange)="nutricaoAlimento.vite=$event" 
						[ngModel]="nutricaoAlimento.vite | money : 'vite'">
				</div>
				<div class="input-field col s3 checkbox">
					<input type="checkbox" id="inativo"
						[(ngModel)]="nutricaoAlimento.inativo"
						name="nutricaoAlimento.inativo"> <label
						for="inativo">Inativo</label>
				</div>
			</div>
			
		</div>

		<input id="id" name="id" type="hidden" [(ngModel)]="nutricaoAlimento.id"> 
		<input id="version" name="version" type="hidden" [(ngModel)]="nutricaoAlimento.version">

		<div class="mensagem">
			<app-mensagem-form *ngIf="verifyError" [color]="colorError" [msg]="msgError"></app-mensagem-form>
		</div>

		<div class='row row-btns'>
			<div class="col s6">
				<a [routerLink]="['/nutricao-alimento']"
					class="btn btn-primary btn-listar">Listar</a>
			</div>
			<div class="col s6">
				<button type="submit"
				class="btn btn-primary btn-salvar">Salvar</button>
			</div>
		</div>
	</form>
</div>

<div materialize [materializeParams]="toastParams"
	[materializeActions]="globalActions"></div>