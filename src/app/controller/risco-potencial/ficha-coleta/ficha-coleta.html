<head>
<meta charset="utf-8">
</head>

<!-- Preload -->
<app-preload [msg]="msgPreload" [show]="showPreload"></app-preload>

<!-- Confirm Save -->
<app-confirm-save [show]="showConfirmSave" [msg]="msgConfirmSave"
	[goTo]="goTo"></app-confirm-save>
	
<p style="color: #26a69a;"><b>Nome do Empregado:  {{nomeEmpregado}}</b></p>

<div class="row form-container">

	<div id="fichaColeta" disabled>
		<div class="conteiner-ficha-coleta">

			<div *ngFor="let grupo of gruposRespostasFichaColeta; let g = index">
				<fieldset>
					<legend>{{grupo}}</legend>

					<div
						*ngFor="let resposta of respostasFichaColetaByGrupo[grupo]; let r = index">
						<p class="pergunta-descricao">{{resposta.pergunta.descricao}}</p>
						
						<div [ngSwitch]="contains(resposta.pergunta.tipo)">
							<div class="row resposta">
								<div *ngSwitchCase="'DOUBLE'">
									<div class="input-field col s5">
										<input type="text" name="DOUBLE{{r}}" disabled
											class="resposta-conteudo resposta-pergunta"
											[(ngModel)]="resposta.conteudo">
									</div>
								</div>

								<div *ngSwitchCase="'INTEIRO'">
									<div class="input-field col s5">
										<input type="text" name="INTEIRO{{r}}" disabled
											class="resposta-conteudo resposta-pergunta"
											[(ngModel)]="resposta.conteudo">
									</div>
								</div>

								<div *ngSwitchCase="'TEXTO'">
									<div class="input-field col s5">
										<input type="text" name="TEXTO{{r}}" disabled
											class="resposta-conteudo resposta-pergunta" [(ngModel)]="resposta.conteudo">
									</div>
								</div>
								
								<div *ngSwitchCase="'ENUM'">
									<div class="input-field col s4  select-sim-nao">
										<select class="browser-default resposta-conteudo resposta-pergunta" disabled 
											[(ngModel)]="resposta.conteudo" name="ENUM{{r}}"> 
											<option disabled selected value="">Selecione um resposta</option>
											<option *ngFor="let enum of getEnumsPergunta(resposta)"
												value="{{enum}}">{{enum}}</option>
										</select>
									</div>
								</div>
								
								<div *ngSwitchCase="'SIM'">
									<div class="input-field col s4 select-sim-nao">
										<select class="browser-default resposta-conteudo resposta-pergunta" 
											name="SIM{{r}}" #statusSimNao disabled
											[(ngModel)]="resposta.conteudo">
											<option disabled selected value="">Selecione uma resposta</option>
											<option *ngFor="let statusSimNao of statusesSimNao"
												value="{{statusSimNao}}">{{statusSimNao}}</option>
										</select>
									</div>

									<table class="striped" *ngIf="verifyRespostaSimNao(g, r)">
										<thead>
											<tr class="row col s12">
												<div
													*ngFor="let item of resposta.pergunta.itens; let i = index">
													<th [ngClass]="getGridItensPergunta(resposta.pergunta.itens)">
														{{item.label}}</th>
												</div>
											</tr>
										</thead>

										<tbody class="col s12">
											<tr class="col s12">
												<div
													*ngFor="let respostaItem of resposta.itens; let i = index">
													<div class="row">
														<div *ngFor="let item of getArrayItensResposta(respostaItem); let rI = index">
															<td *ngIf="verifyItemPath(resposta, rI)"
																[ngClass]="getGridItensPergunta(resposta.pergunta.itens)">
																<select class="resposta-item" [(ngModel)]="item.conteudo"
																	name="resposta.item" disabled> 
																	<option disabled selected value="">Selecione um resposta</option>
																	<option *ngFor="let enum of getEnumsItem(resposta, rI)"
																		value="{{enum}}">{{enum}}</option>
																</select>
															</td>
															<td *ngIf="!verifyItemPath(resposta, rI)"
																[ngClass]="getGridItensPergunta(resposta.pergunta.itens)">
																<input id="resposta.item" type="text" disabled
																name="resposta.item" class="resposta-item"
																[(ngModel)]="item.conteudo">
															</td>
														</div>
													</div>
												</div>
											</tr>
										</tbody>

									</table>

								</div>
								<div *ngSwitchDefault></div>
							</div>

						</div>
					</div>
				</fieldset>
			</div>
		</div>
	</div>

	<div class='row row-btns'>
		<div class="col s6">
			<a [routerLink]="['/risco-potencial']" class="btn btn-primary btn-listar">Voltar</a>
		</div>
	</div>

</div>
