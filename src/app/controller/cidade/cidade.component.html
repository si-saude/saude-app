<head>
  <meta charset="utf-8">
</head>

<h4 [ngStyle]="{'color': corTitulo}" class="center-align titulo">Cidades</h4>
<!-- --> 
<app-mensagem-form  *ngIf="verifyEmptyPaginas" 
 [msg]="msgEmptyPaginas" [color]="colorEmptyPaginas">
</app-mensagem-form>
 
<div class="collection">

	<!-- Preload  --> 
	<div class="center-align preload" *ngIf="showPreload">
		<app-preload [msg]="msgPreload"></app-preload>
	</div>

	<div *ngFor="let cidade of cidades">
		<div class="row row-collection">
			<div class="col s10">
				<a [routerLinkActive]="['active']" class="collection-item">{{cidade.nome}}</a>
			</div>
			<div class="col s1">
				<a [routerLink]="['/cidade/editar', cidade.id]"><i class="material-icons">mode_edit</i></a>
		 	</div>
		 	<div class="col s1">
				<a [ngStyle]="{'cursor': 'pointer'}" (click)="delete(cidade.id)"><i class="material-icons">delete</i></a>
		 	</div>
		</div>
	</div>
</div>
 
 <!-- Paginação -->
<ul class="pagination center-align" *ngIf="!verifyEmptyPaginas">

	<li><a [ngStyle]="{'cursor': 'pointer'}" 
	(click)="goToPage(1)">
	<i class="material-icons arrow-pagination">first_page</i>
	</a></li>
	<li><a [ngStyle]="{'cursor': 'pointer'}" 
	(click)="goToPage(cidadeFilter.getPageNumber()-1)">
	<i class="material-icons arrow-pagination">chevron_left</i>
	</a></li>
	
	<li [ngClass]="activePage(i+1)" class="waves-effect" 
	*ngFor="let pagina of paginas; let i = index">
	<a (click)="goToPage(i+1)">{{i+1}}
	</a></li>
	
	<li><a [ngStyle]="{'cursor': 'pointer'}" 
	(click)="goToPage(cidadeFilter.getPageNumber()+1)">
	<i class="material-icons arrow-pagination">chevron_right</i>
	</a></li>
	<li><a [ngStyle]="{'cursor': 'pointer'}" 
	(click)="goToPage(paginas.length)">
	<i class="material-icons arrow-pagination">last_page</i>
	</a></li>

</ul>

<a class="waves-effect waves-light btn" (click)="openModal()">Filtro</a>
<a [routerLink]="['/cidade/cadastrar']" 
class="waves-effect waves-light btn button-add">Adicionar</a>

<!-- Modal Structure -->
<div id="modal" class="modal" materialize="modal" 
	[materializeParams]="modelParams" [materializeActions]="modalActions">

	<div class="row">
	
		<div class="input-field col s8">
			<div class="modal-content">
				<input type="text" id="nome" [(ngModel)]="cidadeFilter.nome" name="nome">
				<label for="nome">Nome</label>
			</div>
		</div>
		
		<div class="input-field col s4">
			<div class="modal-content">
				<input type="text" id="uf" [(ngModel)]="cidadeFilter.uf" name="uf">
				<label for="uf">UF</label>
			</div>
		</div>
		
	</div>
	
	<div class="modal-footer">
		<a class="waves-effect waves-green btn-flat" (click)="closeModal()">Fechar</a>
    	<a class="modal-action modal-close waves-effect waves-green btn-flat" (click)="filter()">Filtrar</a>
  	</div>

</div>
 